{"mappings":"gfAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,iGCAzD,I,EAEMC,EAAc,IAAI,EAFxBJ,EAAA,SAEwBK,aAAaC,GAAK,4BCF1CC,EAAiBP,EAAA,SAAAQ,aAA6C,SAAWR,EAAA,SAAAS,QAA6C,SDGtH,IAKQC,EALFC,EAAQ,IAAAC,IAAAL,GAEVM,EAAa,GAGTH,EAAiBI,SAASC,cAAc,oBAE9CX,EACGY,YACAC,MAAK,SAAAC,GACJ,SAASC,EAAMC,GAEb,IADA,IAAMC,EAAOH,EAAKI,UACTC,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,GAAK,EAAG,CACvC,GAAIF,EAAKE,GAAGE,OAAS,GAAOC,OAAJN,GACtB,OAAOC,EAAKE,GAAGI,IACNN,EAAKE,GAAGE,KAAS,GAAOC,OAAJN,E,EAMnC,SAASQ,EAAWC,GAClB,MAAc,KAAVA,EACKA,EAEO,gB,CAKlBC,cAAgB,oNAasBJ,OATrBf,EAAS,yRAUjBe,OAD6BE,EAAWV,EAAKa,YAAY,oBAIhCL,OAHzBE,EAAWV,EAAKc,OAAO,gHAIGN,OADDE,EAAWV,EAAKc,OAAO,kDAIpDN,OAH8BE,EAAWV,EAAKe,QAAQ,6DASlDP,OANJE,EAAWV,EAAKgB,aAAa,sJAajBR,OAPRP,EAAM,UAAU,6KAchBO,OAPQf,EAAS,mKAaZe,OANLP,EAAM,eAAe,iLAYrBO,OANKf,EAAS,4JAYFe,OANZP,EAAM,YAAY,0KAcxBO,OARkBf,EAAS,mNAS5Be,OADCR,EAAKZ,GACN,wDAIFI,EAAeyB,UAAYL,cAIPhB,SAASC,cAAc,oBAC/BqB,iBAAiB,SAC7B,WACE1B,EAAe2B,UAAUC,IAAI,aAC7B5B,EAAe2B,UAAUE,OAAO,a,IAGlC,IAAMC,EAAY1B,SAASC,cAAc,uBACzCyB,EAAUJ,iBAAiB,SAAS,WAClC,GAAIvB,EAAW4B,SAASnC,IAAK,CAC3B,IAAIoC,EAAY7B,EAAW8B,QAAQ,cAUnC,OATA9B,EAAW+B,OAAOF,EAAW,GAC7BG,UAAY3C,KAAK4C,UAAUjC,GAE3B2B,EAAUO,YAAc,wBACH,EAErBP,EAAUH,UAAUE,OAAO,YAC3BS,QAAQC,IAAIpC,QACZqC,aAAaC,QAAQ,KAAMN,U,CAG3BhC,EAAWuC,KAAK9C,IAChBkC,EAAUO,YAAc,gCACxBF,UAAY3C,KAAK4C,UAAUjC,GAC3BqC,aAAaC,QAAQ,KAAMN,YACN,EAErBG,QAAQC,IAAIpC,GACZ2B,EAAUH,UAAUC,IAAI,W,OAI7Be,OAAM,SAAAC,GACLN,QAAQC,IAAIK,E","sources":["node_modules/@parcel/runtime-js/lib/runtime-fa582d1b97117100.js","src/js/modalWindow.js","node_modules/@parcel/runtime-js/lib/runtime-6777104033027bdb.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"11HD9\\\":\\\"index.03340fbb.js\\\",\\\"410VS\\\":\\\"icons.3fcd0366.svg\\\"}\"));","import { getBookData } from './getBooksData.js';\n\nconst booksInform = new getBookData((id = '643282b1e85766588626a0b4'));\nconst logoPath = new URL('../images/icons.svg', import.meta.url);\nlet addedToShoppingBag = false;\nlet booksArray = [];\n\nfunction renderBookInformation() {\n  const modalContainer = document.querySelector('.modal-container');\n\n  booksInform\n    .getPromId()\n    .then(data => {\n      function links(sms) {\n        const link = data.buy_links;\n        for (let i = 0; i < link.length; i += 1) {\n          if (link[i].name === `${sms}`) {\n            return link[i].url;\n          } else if (link[i].name !== `${sms}`) {\n            continue;\n          }\n        }\n      }\n\n      function checkValue(value) {\n        if (value !== '') {\n          return value;\n        } else {\n          let message = 'No information';\n          return message;\n        }\n      }\n\n      categoryArray = `\n       <div class=\"modal-close__btn-wrapper\">\n      <button type='button' class='modal-close-btn js-modal-close-btn '>\n     <svg class=\"close\" fill=\"none\" width=\"30\" height=\"30\">\n          <use href=\"${logoPath}#icon-x-close\"></use>\n</svg>\n\n       <path d=\"m8 8 14 14M8 22 22 8\" stroke=\"#000\" stroke-width=\"2\" />\n   </svg>\n      </button>\n      </div>\n      <div class ='modal-book'>\n      <div class='modal-book__img-container'>\n        <img class='modal-book__img' src='${checkValue(data.book_image)}'\n        alt='${checkValue(data.title)}'/>\n        </div>\n        <div class='modal-book__description'>\n        <h2 class=\"modal-book__title\">${checkValue(data.title)}</h2>\n        <p class =\"modal-book__author\">${checkValue(data.author)}</p>\n        <p class =\"modal-book__about\">\n\n        \"${checkValue(data.description)}\"</p>\n\n       <div class = 'modal-book__stores'>\n\n      <div class=\"modal-book__amazon\">\n       <a class=\"amazon__link link\"\n       href=\"${links('Amazon')}\"\n   target=\"_blank\"\n   rel=\"noopener noreferrer\"\n   aria-label=\"amazon icon\"\n   >\n\n   <svg class=\"book\" fill=\"none\" width=\"60\" height=\"60\">\n          <use href=\"${logoPath}#icon-amazon-ar21\"></use>\n</svg>\n\n   </a>\n       </div>\n       <div class =\"modal-book__applebook\">\n       <a class=\"applebook__link link\"\n       href=\"${links('Apple Books')}\"\n   target=\"_blank\"\n   rel=\"noopener noreferrer\"\n   aria-label=\"Apple Book icon\"\n   >\n       <svg class=\"book\"  width=\"30\" height=\"30\" fill=\"none\">\n       <use href=\"${logoPath}#icon-apple-ibooks\"></use>\n       </svg>\n   </div>\n\n       <div class =\"modal-book__bookshop\">\n       <a class=\"bookshop__link link\"\n       href=\"${links('Bookshop')}\"\n   target=\"_blank\"\n   rel=\"noopener noreferrer\"\n   aria-label=\"Bookshop icon\"\n   >\n       <svg class=\"book\"  width=\"40\" height=\"40\">\n              <use href=\"${logoPath}#icon-14008711\"></use>\n       </svg>\n       </div>\n       </div>\n       </div>\n       </div>\n       <div  class=\"modal-book__add__wrapper\">\n       <button type=\"button\" class=\"modal-book__button\" id=\"${\n         data.id\n       }\">Add to shopping list</button>\n   </div>\n        `;\n\n      modalContainer.innerHTML = categoryArray;\n      // modalContainer.classList.remove('is-hidden');\n      // modalContainer.classList.add('modal-open');\n\n      const closeButton = document.querySelector('.modal-close-btn');\n      closeButton.addEventListener('click', closeBtn);\n      function closeBtn() {\n        modalContainer.classList.add('is-hidden');\n        modalContainer.classList.remove('modal-open');\n      }\n\n      const addButton = document.querySelector('.modal-book__button');\n      addButton.addEventListener('click', () => {\n        if (booksArray.includes(id)) {\n          let bookIndex = booksArray.indexOf('${data.id}');\n          booksArray.splice(bookIndex, 1);\n          stringKey = JSON.stringify(booksArray);\n\n          addButton.textContent = 'Add to shopping list';\n          addedToShoppingBag = false;\n\n          addButton.classList.remove('btn__add');\n          console.log(booksArray);\n          localStorage.setItem('id', stringKey);\n          return;\n        } else {\n          booksArray.push(id);\n          addButton.textContent = 'Remove from the shopping list';\n          stringKey = JSON.stringify(booksArray);\n          localStorage.setItem('id', stringKey);\n          addedToShoppingBag = true;\n\n          console.log(booksArray);\n          addButton.classList.add('btn__add');\n        }\n      });\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\nrenderBookInformation();\n\n// const ourGallary = document.querySelector('.header-button');\n// ourGallary.addEventListener('click', () => {\n//   modalContainer.classList.remove('is-hidden');\n//   renderBookInformation();\n// });\n","module.exports = require('./helpers/bundle-url').getBundleURL('11HD9') + require('./helpers/bundle-manifest').resolve(\"410VS\");"],"names":["parcelRequire","register","JSON","parse","$3d70fd1c6ee17102$var$booksInform","getBookData","id","$e1e76b8201710c47$exports","getBundleURL","resolve","modalContainer","$3d70fd1c6ee17102$var$logoPath","URL","$3d70fd1c6ee17102$var$booksArray","document","querySelector","getPromId","then","data","links","sms","link","buy_links","i","length","name","concat","url","checkValue","value","categoryArray","book_image","title","author","description","innerHTML","addEventListener","classList","add","remove","addButton","includes","bookIndex","indexOf","splice","stringKey","stringify","textContent","console","log","localStorage","setItem","push","catch","error"],"version":3,"file":"index.03340fbb.js.map"}